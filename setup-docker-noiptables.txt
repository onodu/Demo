$ cat /etc/docker/daemon.json
{
  "iptables": false,
  "default-address-pools":
  [
    {
      "base": "172.17.0.0/16",
      "size": 24
    }
  ]
}
$ cat /etc/ufw/before.rules
*filter
...
COMMIT
*nat
:POSTROUTING ACCEPT [0:0]
-A POSTROUTING -o wlp4s0 -s 172.17.0.0/16 -j MASQUERADE
COMMIT
$ sudo ufw route allow in on docker0 out on wlp4s0
